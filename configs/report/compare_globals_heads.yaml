# Hydra config for report: compare_globals_heads

inputs:
  sweep_dir: null           # Path to experiment directory
  run_dirs: []              # Alternative: explicit list of run dirs
  select: null              # Optional filtering (not used for this experiment)

report_name: compare_globals_heads

outputs:
  report_subdir: report
  fig_format: png
  dpi: 150
  which_figures:
    - grid_best_val_loss
    - grid_best_rec_globals
    - grid_best_rec_tokens
    - tradeoff_scatter
    - all_val_curves
    - all_train_curves

thresholds:
  val_mse: 0.01
  comparison: le
  split: val

summary_schema_version: 1

inference:
  enabled: false  # Set to true to run inference during report generation
  persist_raw_scores: false  # If true, save per-event scores (default: minimal artifacts only)
  dataset_split: test
  autocast: true
  batch_size: 512
  seed: 42
  max_samples: null  # Limit number of samples for testing (null = use all data, e.g., 1000 for quick test)
  corruption_strategies:
    - name: gaussian_noise
      type: additive_noise
      params:
        std: 0.1
    - name: token_shuffle
      type: permutation
      params:
        ratio: 0.2
  metrics: [mse, mae, auroc]

env:
  output_root: null  # Auto-inferred from sweep_dir path, or set explicitly
